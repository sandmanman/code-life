<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>表单校验</title>
	<link rel="stylesheet" type="text/css" href="jquery.validate.css" />
	<style type="text/css">
	body{padding: 50px;}
	input{margin: 0;padding: 0;margin-right: 10px;}
	.form_item{padding: 15px 0;}
	.form_item .sbt{display: inline-block;text-align: right;width: 20%;}
	.txt_input{width:260px;padding: 10px;border: 1px solid #ddd;}
	.txt_input:focus{border-color: #4499ee;}
	</style>
</head>
<body>
	<form name="">
		<div class="form_group">
			<div class="form_item">
				<label class="sbt">用户名：</label>
				<input type="text" name="username" class="txt_input" tip="输入用户名" />
				<label for="username" class="validate-tip validate-normal" data-tip="用户名可以是中文、数字、字母或下划线组合"></label>
			</div>
			<div class="form_item">
				<label class="sbt">邮箱：</label>
				<input type="text" tip="" name="email" class="txt_input" />
				<label for="email" class="validate-tip validate-normal" data-tip="请输入常用邮箱，用来登录和找回密码"></label>
			</div>
			<div class="form_item">
				<label class="sbt">密码：</label>
				<input id="password" type="password" name="password" class="txt_input" />
			</div>
			<div class="form_item">
				<label class="sbt">重复密码：</label>
				<input id="confirm_password" type="password" name="confirm_password" class="txt_input" />
			</div>

			<div class="form_item">
				<label class="sbt">真实姓名：</label>
				<input id="truename" type="text" name="truename" class="txt_input" />
			</div>
			<div class="form_item">
				<label class="sbt">出生日期：</label>
				<input id="birthady" type="text" name="birthady" class="txt_input" />
			</div>
			<div class="form_item">
				<label class="sbt">手机：</label>
				<input id="mobile" type="text" name="mobile" class="txt_input" />
			</div>
			<div class="form_item">
				<label class="sbt">身份证号码：</label>
				<input id="chinaid" type="text" name="chinaid" class="txt_input" />
			</div>
			<div class="form_item">
				<label class="sbt">居住地址：</label>
				<input id="location" type="text" name="location" class="txt_input" />
			</div>
			<div class="form_item">
				<label class="sbt">图片格式：</label>
				<input id="image" type="file" name="image" />
			</div>
			<div class="form_item">
				<label class="sbt">使用协议：</label>
				<input id="agree" type="checkbox" name="agree" />
			</div>
		</div>
		<div class="btn_item">
			<input type="submit" class="send_btn" value="提交" />
		</div>
	</form>
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/1.8.3/jquery.min.js"></script>
	<script type="text/javascript" src="http://cdn.bootcss.com/jquery-mockjax/1.5.3/jquery.mockjax.min.js"></script>
	<script type="text/javascript" src="jquery.validate.1.13.1.js"></script>
	<script type="text/javascript" src="jquery.validate.additional-methods.js"></script>
	<script type="text/javascript">
	$(document).ready(function() {

		//mockjax 模拟AJAX请求
		$.mockjax({
			url: "users.action",
			response: function(settings) {
				var user = settings.data.username,
					users = ["sandman", "习近平", "李克强"];
				this.responseText = "true";
				if ($.inArray(user, users) !== -1) {
					this.responseText = "false";
				}
			},
			responseTime: 1000
		});

		$("form").validate({
			debug: true,
			onfocusout: function (element){ 
				$(element).valid(); 
			},
			onkeyup: false,
			rules: {
				username: {
					required: true,
					CLNUString: true,
					minlength: 2,
					remote: "users.action"
					// remote: {  
					// 	url: "",
					// 	type:"get",
					// 	data: {
					// 		username: function() {
					// 			return $("#username").val();
					// 		}
					// 	}
					// }
				},
				password: {
					required: true,
					minlength: 6
				},
				confirm_password: {
					required: true,
					minlength: 6,
					equalTo: "#password"
				},
				truename: {
					required: true,
					chinese: true
				},
				email: {
					required: true,
					email: true
				},
				mobile: {
					mobile: true
				},
				chinaid: {
					required: true,
					chinaid: true
				},
				image: {
					accept: "JPG|JPEG|PNG|GIF"
				},
				agree: {
					required: true
				}
			},
			messages: {
				username: {
					required: "请输入用户名",
					minlength: "最少2个字符",
					remote:"该用户名已存在，换个试试吧！"
				},
				password: {
					required: "请输入密码",
					minlength: "密码最少6位"
				},
				confirm_password: {
					required: "确认密码",
					minlength: "密码最少6位",
					equalTo: "两次输入密码不一致"
				},
				email: {
					required: "请输入邮箱"
				},
				truename: {
					required: "只能输入中文"
				},
				chinaid: {
					required: "请输入身份证号码",
					minlength: "请输入正确格式的身份证号码"
				},
				image: {
					accept: "请上传JPG,JPEG,PNG,GIF格式的图片"
				},
				agree: {
					required: "请阅读用户使用协议"
				}
			}
		});
		

	});
	</script>
</body>
</html>